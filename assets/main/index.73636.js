System.register("chunks:///_virtual/apeNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./audioManager.ts","./constant.ts","./uiManager.ts","./gameLogic.ts"],(function(e){"use strict";var t,o,n,a,i,s,c,d,p,g,u,r,h,l,f,m,_,v;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy,n=e._decorator,a=e.AudioSource,i=e.Tween,s=e.Animation,c=e.tween,d=e.v3,p=e.Vec3,g=e.Component},function(e){u=e.default},function(e){r=e.AudioManager},function(e){h=e.E_gameEvent,l=e.E_protoGameEvent,f=e.E_gameState,m=e.C_roomApePathPos},function(e){_=e.UiManager},function(e){v=e.default}],execute:function(){var y;o._RF.push({},"be760+E6nJPS7CyM+N6pYsV","apeNode",void 0);var N=n.ccclass;n.property,e("ApeNode",N("ApeNode")(y=function(e){function o(){for(var t,o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).speed=190,t.nodeInitPos={x:0,y:140},t.apeNode=void 0,t.cageNode=void 0,t.apeAttachIndex=-1,t.audioEffCom=null,t.audioMuisicCom=null,t}t(o,e);var n=o.prototype;return n.onLoad=function(){u.registerEventListen(h.e_apeBegin,this.apeBegin,this),u.registerEventListen(l.e_diconnectSocketIO,this.diconnectSocketIO,this),u.registerEventListen(l.e_gameEnd,this.gameEnd,this,!1),this.apeNode=v.findNode("apeSp",this.node),this.cageNode=v.findNode("cageSp",this.node)},n.start=function(){this.amendTargetNode();var e=this.getComponents(a);this.audioEffCom=e[0],this.audioMuisicCom=e[1]},n.diconnectSocketIO=function(){this.audioEffCom.stop(),this.audioMuisicCom.stop();var e=this.node;i.stopAllByTarget(this.node),this.apeNode.getComponent(s).play("ape_idle"),e.setScale(1,1,1),e.setPosition(this.nodeInitPos.x,this.nodeInitPos.y),this.cageNode.getComponent(s).play("cage_appear"),r.instance.playMusic("monkey_fight_stele_down",this.audioEffCom,.4,!1)},n.gameEnd=function(){if(v.gameState==f.e_apeRunIng){this.audioEffCom.stop(),this.audioMuisicCom.stop();var e=this.node;i.stopAllByTarget(this.node),this.apeNode.getComponent(s).play("ape_idle"),e.setScale(1,1,1),e.setPosition(this.nodeInitPos.x,this.nodeInitPos.y),this.cageNode.getComponent(s).play("cage_appear"),r.instance.playMusic("monkey_fight_stele_down",this.audioEffCom,.4,!1)}else v.gameState,f.e_redFarmeRun},n.apeBegin=function(e){_.instance.showDialog("popUI",v.gameRootUiInstance.popUiNode,"PopUI",[1]),this.apeAttachIndex=e,this.cageNode.getComponent(s).play("cage_boom"),r.instance.playMusic("monkey_fight_cage_down",this.audioEffCom,.15,!1)},n.amendTargetNode=function(){var e=v.findNode("cageSp",this.node).getComponent(s);e.getState("cage_appear").amendEventEvaluatorTargetNode(this.node),e.getState("cage_boom").amendEventEvaluatorTargetNode(this.node);var t=v.findNode("apeSp",this.node).getComponent(s);t.getState("ape_attach").amendEventEvaluatorTargetNode(this.node),t.getState("ape_start").amendEventEvaluatorTargetNode(this.node)},n.cageBoomOver=function(){v.findNode("cageSp",this.node).active=!1},n.cageAppear=function(){v.findNode("cageSp",this.node).active=!0},n.cageBoomMid=function(){this.apeNode.getComponent(s).play("ape_start")},n.attachOver=function(){u.dispatch(h.e_apeAttackOver),v.gameState=f.e_showResultIng,_.instance.showDialog("popUI",v.gameRootUiInstance.popUiNode,"PopUI",[2])},n.apeRun=function(){var e=this;r.instance.playMusic("monkey_fight_run",this.audioMuisicCom,.5,!0),this.apeNode.getComponent(s).play("ape_run");for(var t=this.node,o=m["room"+this.apeAttachIndex],n=c(t),a=d(this.nodeInitPos.x,this.nodeInitPos.y),i=function(){var i=o[g],c=d(i.x,i.y);n.call((function(){t.setScale(i.scaleX?i.scaleX:1,1,1)})),n.to(p.distance(a,c)/e.speed,{position:c}),a=c,g==o.length-1-1&&n.call((function(){e.apeNode.getComponent(s).play("ape_attach"),e.audioMuisicCom.stop(),r.instance.playMusic("monkey_fight_attack",e.audioEffCom,.1,!1)}))},g=0;g<o.length;g++)i();n.call((function(){e.scheduleOnce((function(){e.apeNode.getComponent(s).play("ape_idle"),t.setScale(1,1,1),t.setPosition(e.nodeInitPos.x,e.nodeInitPos.y),e.cageNode.getComponent(s).play("cage_appear"),r.instance.playMusic("monkey_fight_stele_down",e.audioEffCom,.4,!1)}),1.5)})),n.start()},o}(g))||y);o._RF.pop()}}}));

System.register("chunks:///_virtual/audioManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./gameLogic.ts","./resourceUtil.ts"],(function(n){"use strict";var o,t,e,i,u;return{setters:[function(n){o=n.createClass},function(n){t=n.cclegacy,e=n.AudioSource},function(n){i=n.default},function(n){u=n.default}],execute:function(){t._RF.push({},"799413Pj/lB/J2L4lijDDEC","audioManager",void 0),n("AudioManager",function(){function n(){}var t=n.prototype;return t.playSound=function(n,o,t){u.loadMusic("sound/"+n,(function(n,e){n||(o.volume=t,o.playOneShot(e))}))},t.playOpenPanelEffect=function(n,o){var t=i.gameRootUiInstance.popUiNode.getComponent(e);u.loadMusic("sound/"+n,(function(n,e){n||(t.volume=o,t.playOneShot(e))}))},t.playMusic=function(n,o,t,e){void 0===t&&(t=.5),void 0===e&&(e=!1),u.loadMusic("sound/"+n,(function(n,i){n||(o.clip=i,o.volume=t,o.loop=e,o.play())}))},o(n,null,[{key:"instance",get:function(){return this._instance||(this._instance=new n),this._instance}}]),n}())._instance=void 0,t._RF.pop()}}}));

System.register("chunks:///_virtual/btnAdapter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./audioManager.ts"],(function(e){"use strict";var t,n,i,o,r,a,l,u,c,p,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,l=e.Button,u=e.CCFloat,c=e.AudioSource,p=e.Component},function(e){s=e.AudioManager}],execute:function(){var d,b,f,m,y,v,g,S,h,C,k,P,A,w,z;r._RF.push({},"13bd1bivd9OLpbo7MBpsHjK","btnAdapter",void 0);var M=a.ccclass,L=a.property,T=a.menu,_=a.requireComponent,B=a.disallowMultiple;e("btnAdapter",(d=M("btnAdapter"),b=T("自定义组件/btnAdapter"),f=_(l),m=L({tooltip:"点击后是否播放点击音效"}),y=L({tooltip:"点击音效名"}),v=L({type:u,min:0,max:1}),g=L({tooltip:"是否禁止快速二次点击"}),S=L({type:u,tooltip:"点击后多久才能再次点击,仅isPreventSecondClick为true生效,单位秒"}),d(h=b(h=f(h=B((k=t((C=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,i(t,"isPlaySound",k,o(t)),i(t,"clickSoundName",P,o(t)),i(t,"soundVolume",A,o(t)),i(t,"isPreventSecondClick",w,o(t)),i(t,"preventTime",z,o(t)),t}return n(t,e),t.prototype.onLoad=function(){var e=this,t=this.node.getComponent(l);this.node.on("click",(function(){if(e.isPreventSecondClick&&(t.interactable=!1,e.scheduleOnce((function(){t.node&&(t.interactable=!0)}),e.preventTime)),e.isPlaySound){var n=e.getComponent(c);n||(n=e.addComponent(c)),s.instance.playSound(e.clickSoundName,n,e.soundVolume)}}))},t}(p)).prototype,"isPlaySound",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),P=t(C.prototype,"clickSoundName",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"click"}}),A=t(C.prototype,"soundVolume",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),w=t(C.prototype,"isPreventSecondClick",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),z=t(C.prototype,"preventTime",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.3}}),h=C))||h)||h)||h)||h));r._RF.pop()}}}));

System.register("chunks:///_virtual/chooseMode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./constant.ts","./EventManager.ts","./uiManager.ts","./gameLogic.ts"],(function(e){"use strict";var o,t,n,s,c,i,a,r;return{setters:[function(e){o=e.inheritsLoose},function(e){t=e.cclegacy,n=e._decorator,s=e.Component},function(e){c=e.E_gameEvent},function(e){i=e.default},function(e){a=e.UiManager},function(e){r=e.default}],execute:function(){var u;t._RF.push({},"07a3fyBgZRMB7PCkbTOGUdC","chooseMode",void 0);var l=n.ccclass;n.property,e("ChooseMode",l("ChooseMode")(u=function(e){function t(){return e.apply(this,arguments)||this}o(t,e);var n=t.prototype;return n.onClickBtn=function(e,o){var t=o;r.gameMode!=t?(i.dispatch(c.e_changeGameMode,{modeStr:t,isNotSend:!1}),this.onCloseSelf()):this.onCloseSelf()},n.onCloseSelf=function(){a.instance.hideDialog("chooseMode")},t}(s))||u);t._RF.pop()}}}));

System.register("chunks:///_virtual/constant.ts",["cc"],(function(e){"use strict";var o;return{setters:[function(e){o=e.cclegacy}],execute:function(){e({E_gameEvent:void 0,E_gameMode:void 0,E_gameSocketEvent:void 0,E_gameState:void 0,E_monkey_roomMsg:void 0,E_protoGameEvent:void 0}),o._RF.push({},"4048arnpyZJS7gxbpnAg+Nd","constant",void 0);var n,c,_,a,s,t;e("C_barMoneyTweenTagList",[-1,1001,1002,1003,1004,1005,1006,1007,1008,1009,1e3,1011,1012,1013,1014]),e("C_roomApePathPos",{room1:[{x:0,y:-20},{x:-290,y:-20,scaleX:-1},{x:-290,y:169,scaleX:1},{x:-290,y:365,scaleX:1}],room2:[{x:0,y:70},{x:-290,y:70,scaleX:-1},{x:-290,y:365,scaleX:1},{x:-110,y:365,scaleX:1}],room3:[{x:0,y:68},{x:290,y:68},{x:290,y:365,scaleX:-1},{x:110,y:365,scaleX:-1}],room4:[{x:0,y:-22},{x:290,y:-22},{x:290,y:169,scaleX:-1},{x:290,y:365,scaleX:-1}],room5:[{x:0,y:-120},{x:290,y:-120},{x:290,y:-36,scaleX:-1},{x:290,y:169,scaleX:-1}],room6:[{x:0,y:-224},{x:290,y:-224,scaleX:1},{x:290,y:-36,scaleX:-1}],room7:[{x:0,y:232},{x:290,y:232},{x:290,y:-36,scaleX:-1},{x:290,y:-224,scaleX:-1}],room8:[{x:0,y:-420,scaleX:1},{x:87,y:-420,scaleX:1},{x:282,y:-420,scaleX:1}],room9:[{x:0,y:-420},{x:-90,y:-420,scaleX:-1},{x:97,y:-420,scaleX:1}],room10:[{x:0,y:-420},{x:90,y:-420,scaleX:1},{x:-97,y:-420,scaleX:-1}],room11:[{x:0,y:-420,scaleX:1},{x:-87,y:-420,scaleX:-1},{x:-282,y:-420,scaleX:-1}],room12:[{x:0,y:232},{x:-290,y:232,scaleX:-1},{x:-290,y:-36,scaleX:1},{x:-290,y:-224,scaleX:1}],room13:[{x:0,y:-224},{x:-290,y:-224,scaleX:-1},{x:-290,y:-36,scaleX:1}],room14:[{x:0,y:-120},{x:-290,y:-120,scaleX:-1},{x:-290,y:-36,scaleX:1},{x:-290,y:169,scaleX:1}]}),e("C_currencyGears",{gold:[100,1e3,1e4],flower:[100,1e3,1e4],gem:[1,10,100]});!function(e){e.e_unkown="e_unkown",e.e_changeChooseIndex="changeChooseIndex",e.e_changeGameMode="changeGameMode",e.e_curGameState="curGameState",e.e_apeAttackOver="apeAttackOver",e.e_apeBegin="apeBegin",e.e_androidRefreshBalance="androidRefreshBalance",e.e_selfbetChange="selfbetChange",e.e_clickRoom="e_clickRoom",e.e_showResult="showResult"}(n||(n=e("E_gameEvent",{}))),function(e){e.e_unkown="e_unkown",e.e_IO_onnectSucceed="connectSucceed",e.e_diconnectSocketIO="diconnectSocketIO",e.e_resetMyCurrency="resetMyCurrency",e.e_joinGameModeSuccess="joinGameModeSuccess",e.e_joinvViceRoom="joinvViceRoom",e.e_gameEnd="gameEnd",e.e_betSuccess="bet_success",e.e_receiveResult="receiveResult",e.e_betRoom="betRoom",e.e_leaveRoom="leaveRoom",e.e_joinRoom="joinRoom",e.e_speakUser="speakUser",e.e_stopSpeakUser="stopSpeakUser",e.e_betHistory="betHistory"}(c||(c=e("E_protoGameEvent",{}))),function(e){e[e.e_unkown=-1]="e_unkown",e.gold="gold",e.gem="gem",e.flower="flower"}(_||(_=e("E_gameMode",{}))),function(e){e[e.e_unkown=-1]="e_unkown",e[e.e_connectIng=0]="e_connectIng",e[e.e_connectFail=1]="e_connectFail",e[e.e_connectSucceed=2]="e_connectSucceed",e[e.e_countDown60Ing=3]="e_countDown60Ing",e[e.e_redFarmeRun=4]="e_redFarmeRun",e[e.e_apeRunIng=5]="e_apeRunIng",e[e.e_showResultIng=6]="e_showResultIng",e[e.e_changeModeIng=7]="e_changeModeIng",e[e.e_gameWaiting=8]="e_gameWaiting"}(a||(a=e("E_gameState",{}))),function(e){e.e_unkown="e_unkown",e.e_getBalance="get_balance",e.e_monkey_join="monkey_join",e.e_monkey_bet="monkey_bet",e.e_betHistory="monkey_history",e.e_NMonkey_gold_msg="monkey_gold_msg",e.e_NMonkey_gem_msg="monkey_gem_msg",e.e_NMonkey_flower_msg="monkey_flower_msg",e.e_NMonkey_settle_msg="monkey_settle_msg"}(s||(s=e("E_gameSocketEvent",{}))),function(e){e.e_monkey_room_join="monkey_room_join",e.e_monkey_room_leave="monkey_room_leave",e.e_monkey_room_bet_success="monkey_room_bet_success"}(t||(t=e("E_monkey_roomMsg",{}))),o._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,o,i,n,s,l,r,a,g,h,c,p,C,d,m,u,T;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Color,g=t.Canvas,h=t.UITransform,c=t.instantiate,p=t.Label,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,T=t.Component}],execute:function(){var L,f,M,b,v,x,E,S,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(L=A("internal.DebugViewRuntimeControl"),f=y(r),M=y(r),b=y(r),L((E=e((x=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",E,n(e)),i(e,"singleModeToggle",S,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct TRT","Env TRT","TRT All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","TRT","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e.hideButtonLabel=void 0,e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[a.WHITE,a.BLACK,a.RED,a.GREEN,a.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(g)){var t=this.node.parent.getComponent(h),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=c(s);l.parent=this.node,l.name="Buttons";var r=c(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var T=c(this.EnableAllCompositeModeButton.getChildByName("Label"));T.setPosition(i+(u>0?450:150),n,0),T.setScale(.75,.75,.75),T.parent=r;var L=T.getComponent(p);L.string=u?"----------Composite Mode----------":"----------Single Mode----------",L.color=a.WHITE,L.overflow=0,this.labelComponentList[this.labelComponentList.length]=L}n-=20;for(var f=0,M=0;M<this.strSingle.length;M++,f++){M===this.strSingle.length>>1&&(i+=200,f=0);var b=M?c(this.singleModeToggle):this.singleModeToggle;b.setPosition(i,n-20*f,0),b.setScale(.5,.5,.5),b.parent=this.singleModeToggle.parent;var v=b.getComponentInChildren(C);v.string=this.strSingle[M],this.textComponentList[this.textComponentList.length]=v,this.textContentList[this.textContentList.length]=v.string,b.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[M]=b}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var x=this.EnableAllCompositeModeButton.getComponentInChildren(p);this.labelComponentList[this.labelComponentList.length]=x;var E=c(this.EnableAllCompositeModeButton);E.setPosition(i+90,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.changeTextColor,this),E.parent=l,(x=E.getComponentInChildren(p)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=x;var S=c(this.EnableAllCompositeModeButton);S.setPosition(i+200,n,0),S.setScale(.5,.5,.5),S.on(m.EventType.CLICK,this.hideUI,this),S.parent=this.node.parent,(x=S.getComponentInChildren(p)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=x,this.hideButtonLabel=x,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=c(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?c(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(T)).prototype,"compositeModeToggle",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(x.prototype,"singleModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(x.prototype,"EnableAllCompositeModeButton",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=x))||v));s._RF.pop()}}}));

System.register("chunks:///_virtual/EventManager.ts",["cc","./gameLogic.ts"],(function(t){"use strict";var e,n;return{setters:[function(t){e=t.cclegacy},function(t){n=t.default}],execute:function(){e._RF.push({},"98889b8g5tCyLIDcBBYcHrt","EventManager",void 0),t("default",function(){function t(){}return t.registerEventListen=function(t,e,n,i){void 0===i&&(i=!1),!this.eventList[t]&&(this.eventList[t]=[]),this.getEventListenIsExist(t,e,n)||this.eventList[t].push({fun:e,target:n,once:i})},t.removeOneEventListen=function(t,e,n){var i=this.eventList[t];if(i)for(var r=[0,i.length],s=r[0],v=r[1];s<v;s++){var a=i[s];if(a.fun===e&&a.target===n)return void i.splice(s,1)}},t.dispatch=function(t,e){void 0===e&&(e=null);var i=this.eventList[t];if(i)for(var r=i.length-1;r>=0;r--){var s=i[r];if(s){try{s.fun&&s.fun.call(s.target,e)}catch(t){n.error(t)}s.once&&this.removeOneEventListen(t,s.fun,s.target)}}else n.log("event not registered："+t)},t.removeEventKeyAllEventListen=function(t){delete this.eventList[t]},t.removeTargetAllEventListen=function(t){if(t)for(var e in this.eventList){for(var i=this.eventList[e],r=0;r<i.length;r++){var s=i[r];s.target&&s.target===t&&(i.splice(r,1),r-=1)}0==i.length&&delete this.eventList[e]}else n.log("there is no such EventTarget:")},t.getEventListenIsExist=function(t,e,n){var i=this.eventList[t];if(i)for(var r=0,s=i.length;r<s;r++){var v=i[r];if(v.fun===e&&v.target===n)return!0}return!1},t.clearAllEventListen=function(){for(var t in this.eventList)delete this.eventList[t]},t}()).eventList={},e._RF.pop()}}}));

System.register("chunks:///_virtual/gameLogic.ts",["./rollupPluginModLoBabelHelpers.js","cc","./env","./EventManager.ts","./constant.ts","./socketIO.ts"],(function(e){"use strict";var n,t,o,i,a,c,s,r,d,l,u;return{setters:[function(e){n=e.createClass},function(e){t=e.cclegacy,o=e.sys,i=e.find},function(e){a=e.DEBUG},function(e){c=e.default},function(e){s=e.E_gameMode,r=e.E_gameState,d=e.E_gameEvent,l=e.E_protoGameEvent},function(e){u=e.default}],execute:function(){var h;t._RF.push({},"bcfa9BFykJNlJU4SfuZ2ult","gameLogic",void 0);var m=e("default",function(){function e(){}return e.updateCurrency=function(e,n){this.gameModeToCurrencymap[e]=n||0},e.initGameLogic=function(){var n=this;window.android||(window.android={}),window.android.refreshBalance=function(){c.dispatch(d.e_androidRefreshBalance)},window.android.joinBack=function(e){e?c.dispatch(l.e_joinvViceRoom):n.showToast("JOIN VOICE FAIL",2e3)},window.android.speakUser=function(e){c.dispatch(l.e_speakUser,e)},window.android.stopSpeakUser=function(e){c.dispatch(l.e_stopSpeakUser,e)},e.log("Token:",this.getPlayerToken()),e.log("SocketUrl:",this.getSocketIOUrl()),e.log("是否是测试环境:",a,this.getIsDebugEnv()),e.log("当前设备实际环境:",this.getPracticalPlatform()),e.log("头像cdn地址:",this.getImgCdn())},e.getIsDebugEnv=function(){return this._isDebugIndex},e.getPracticalPlatform=function(){var e=navigator.platform;return"Win32"==e?o.Platform.DESKTOP_BROWSER:"iPhone"==e?o.Platform.IOS:o.Platform.ANDROID},e.getImgCdn=function(){return this.getIsDebugEnv()?this._imgCnUrlInDev:this._imgCnUrlInRel},e.getPlayerToken=function(){return this._playerToken||(this.getPracticalPlatform()==o.Platform.ANDROID?this._playerToken=window.android.getToken():this.getPracticalPlatform()==o.Platform.IOS?window.webkit.messageHandlers.getToken.postMessage("1"):this._playerToken="server_token=s%3APbTflPFL0U2wyBCstCRmQ87Is5UUMLuC.FBGUj8R4ImzaIXFfD0WRh%2F%2FbeFJ8eNvX2rVREUd6P0o"),this._playerToken},e.getSocketIOUrl=function(){return this.getIsDebugEnv()?this._socketIOUrl="https://dev-game.lovechatbar.com":this._socketIOUrl="https://game.lovechatbar.com",this._socketIOUrl},e.hideFlashScreen=function(){window.customObjeck.hideFlashScreen()},e.showToast=function(e,n){void 0===n&&(n=3e3),window.customObjeck.showToast(e,n)},e.getVersion=function(){return window.customObjeck.getVersion()},e.inviteRoom=function(e,n){this.checkIsInWindow()||window.android.inviteRoom(e,n)},e.exitVoiceRoom=function(){this.checkIsInWindow()||window.android.exitRoom()},e.isUpMic=function(e){this.checkIsInWindow()||(e?window.android.upMic():window.android.downMic(),null!=this._enableMic&&this.enableMic(this._enableMic),null!=this._enableVoice&&this.enableVoice(this._enableMic))},e.enableMic=function(e){this.checkIsInWindow()||(this._enableMic=e,window.android.enableMic(e))},e.enableVoice=function(e){this.checkIsInWindow()||(this._enableVoice=e,window.android.enableVoice(e))},e.starBGM=function(e,n){void 0===e&&(e=!1),void 0===n&&(n=50),this.checkIsInWindow()||e&&2==this._isPlayBgmType||(e||1!=this._isPlayBgmType)&&(this._isPlayBgmType=1,window.android.starBGM(n))},e.stopBGM=function(){this.checkIsInWindow()||(this._isPlayBgmType=2,window.android.stopBGM())},e.goBack=function(){this.checkIsInWindow()||(u.closeSocket(),this.stopBGM(),window.android.goBack())},e.jumpRecharge=function(){this.checkIsInWindow()||window.android.jumpRecharge()},e.checkIsInWindow=function(){return this.getPracticalPlatform()==o.Platform.DESKTOP_BROWSER},e.findNode=function(e,n){var t=n.uuid+"/"+e;if(this._nodePathCache.get(t))return this._nodePathCache.get(t);var o=i(e,n);return this._nodePathCache.set(t,o),o},e.log=function(){var e;this.getIsDebugEnv()&&(e=console).log.apply(e,arguments)},e.error=function(){var e;this.getIsDebugEnv()&&(e=console).error.apply(e,arguments)},n(e,null,[{key:"gameMode",get:function(){return this._curGameMode},set:function(e){this._curGameMode=e}},{key:"gameState",get:function(){return this._curGameState},set:function(e){this._curGameState=e,c.dispatch(d.e_curGameState,e)}}]),e}());m.mainUiInstance=void 0,m.gameRootUiInstance=void 0,m.playerCoinNum=0,m.playerFlowerNum=0,m.playerGemNum=0,m.curGameId=void 0,m.oneRoundTime=0,m.curCountTime=m.oneRoundTime,m.curTodayRound=0,m.myTotalBet=0,m.curRoundKilledRoom=-1,m.lastRoundResult=null,m.joinMonkeyRoomBackData=null,m.allBetPlayerMap=new Map,m.allPlayerOnlineMap=new Map,m.yetCreatePlayerNode=new Map,m.curChooseIndex=1,m.curChooseRoomIndex=-1,m._curGameMode=s.e_unkown,m._curGameState=r.e_unkown,m.selfInfoData={userId:"",avatar:"",rtcToken:"",chatRoomId:""},m._imgCnUrlInDev="https://dev-img.lovechatbar.com/image/",m._imgCnUrlInRel="https://img.lovechatbar.com/image/",m._playerToken=void 0,m._socketIOUrl=void 0,m._isDebugIndex=window.customObjeck.getIsDebugIndex(),m.gameModeToCurrencymap=((h={})[s.gold]=m.playerCoinNum,h[s.flower]=m.playerFlowerNum,h[s.gem]=m.playerGemNum,h),m._enableMic=null,m._enableVoice=null,m._isPlayBgmType=-1,m._nodePathCache=new Map,t._RF.pop()}}}));

System.register("chunks:///_virtual/gameRoot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./gameLogic.ts","./EventManager.ts","./constant.ts","./resourceUtil.ts","./socketIO.ts"],(function(e){"use strict";var t,o,n,i,r,c,s,a,u,l,f,d,p,g,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,c=e._decorator,s=e.Node,a=e.Label,u=e.Component},function(e){l=e.default},function(e){f=e.default},function(e){d=e.E_gameMode,p=e.E_protoGameEvent},function(e){g=e.default},function(e){m=e.default}],execute:function(){var h,v,b,L,y,R,E;r._RF.push({},"bf373bsQPFJDZf4iACfCagi","gameRoot",void 0);var F=c.ccclass,_=c.property;e("GameRoot",(h=F("GameRoot"),v=_(s),b=_(s),h((R=t((y=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),c=0;c<o;c++)r[c]=arguments[c];return t=e.call.apply(e,[this].concat(r))||this,n(t,"uiNode",R,i(t)),n(t,"popUiNode",E,i(t)),t.isFirstSucceed=!0,t}o(t,e);var r=t.prototype;return r.onLoad=function(){l.gameMode=d.flower,l.gameRootUiInstance=this,l.initGameLogic(),this.registerEventListenFun(),m.toConnect(),l.findNode("versionLab",this.node).getComponent(a).string=l.getVersion()},r.registerEventListenFun=function(){window.addEventListener("beforeunload",(function(e){l.goBack()})),f.registerEventListen(p.e_joinvViceRoom,this.joinVoiceRoom,this),f.registerEventListen(p.e_IO_onnectSucceed,this.connectGame,this)},r.closeGame=function(){l.goBack()},r.joinVoiceRoom=function(){l.log("收到加入语音房间成功的消息"),l.isUpMic(!0)},r.connectGame=function(){this.isFirstSucceed&&(g.preloadAsset(),l.hideFlashScreen(),this.isFirstSucceed=!1),m.emitGetBalance(),m.joinMonkeyRoom(l.gameMode)},t}(u)).prototype,"uiNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(y.prototype,"popUiNode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=y))||L));r._RF.pop()}}}));

System.register("chunks:///_virtual/help.ts",["./rollupPluginModLoBabelHelpers.js","cc","./uiManager.ts"],(function(e){"use strict";var t,n,o,r,c;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator,r=e.Component},function(e){c=e.UiManager}],execute:function(){var i;n._RF.push({},"8231a6cp8pNMJo1bTXN7DJP","help",void 0);var s=o.ccclass;o.property,e("Help",s("Help")(i=function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n.prototype.closeSelf=function(){c.instance.hideDialog("helpNode")},n}(r))||i);n._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./debug-view-runtime-control.ts","./EventManager.ts","./TimerModule.ts","./audioManager.ts","./btnAdapter.ts","./constant.ts","./gameRoot.ts","./resourceUtil.ts","./socketIO.ts","./uiManager.ts","./util.ts","./gameLogic.ts","./NewComponent.ts","./apeNode.ts","./chooseMode.ts","./help.ts","./mainUINode.ts","./playerHead.ts","./popUI.ts","./record.ts","./selectBox.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/mainUINode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./TimerModule.ts","./constant.ts","./resourceUtil.ts","./socketIO.ts","./uiManager.ts","./util.ts","./gameLogic.ts","./playerHead.ts"],(function(e){"use strict";var o,t,n,i,a,s,r,d,c,m,h,u,p,l,g,f,N,C,v,I,b,y,R,S,L,T,F,M,_,B,k,w,P;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,s=e._decorator,r=e.Prefab,d=e.Node,c=e.Sprite,m=e.tween,h=e.v3,u=e.Label,p=e.instantiate,l=e.TweenSystem,g=e.Animation,f=e.UIOpacity,N=e.Layout,C=e.UITransform,v=e.Component},function(e){I=e.default},function(e){b=e.default},function(e){y=e.E_gameEvent,R=e.E_protoGameEvent,S=e.E_gameState,L=e.C_barMoneyTweenTagList,T=e.E_gameMode,F=e.C_currencyGears},function(e){M=e.default},function(e){_=e.default},function(e){B=e.UiManager},function(e){k=e.Util},function(e){w=e.default},function(e){P=e.PlayerHead}],execute:function(){var D,x,O,E,A,U,j;a._RF.push({},"610c4cDRHRB3rJVINj0DLN5","mainUINode",void 0);var H=s.ccclass,G=s.property;e("MainUINode",(D=H("MainUINode"),x=G({type:r,tooltip:"玩家头像"}),O=G({type:d,tooltip:"玩家出身区域"}),D((U=o((A=function(e){function o(){for(var o,t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return o=e.call.apply(e,[this].concat(a))||this,n(o,"headeNodesPrefab",U,i(o)),n(o,"buttomLayoutNode",j,i(o)),o.chooseBtnLabList={gold:"ذهب٠حرب القرود   ",gem:"جوهرات٠حرب القرود   ",flower:"زهور٠حرب القرود "},o.apeHitStr="جاء القرود السيء  ",o.connectIngStr="تحت التحميل ",o.mainSpriAtlas=null,o.bgmIsOpen=!0,o.micIsOpen=!0,o.voiceIsOpen=!0,o.betClickRecordList=[],o.main60timer=void 0,o.redNodeCache=[],o.redFrameTimer=null,o.limitedStopCount=0,o.killedRoomIndex=-1,o}t(o,e);var a=o.prototype;return a.onLoad=function(){w.mainUiInstance=this,I.registerEventListen(y.e_changeGameMode,this.changeMode,this,!1),I.registerEventListen(y.e_changeChooseIndex,this.changeRate,this,!1),I.registerEventListen(R.e_resetMyCurrency,this.resetMyCurrency,this,!1),I.registerEventListen(y.e_curGameState,this.gameStateChange,this,!1),I.registerEventListen(R.e_joinGameModeSuccess,this.joinGameModeSuccess,this,!1),I.registerEventListen(R.e_receiveResult,this.stopRedFrameRun,this,!1),I.registerEventListen(R.e_betSuccess,this.betSuccessBack,this,!1),I.registerEventListen(y.e_showResult,this.roomReset,this,!1),I.registerEventListen(R.e_gameEnd,this.gameEnd,this,!1),I.registerEventListen(R.e_joinRoom,this.playerJoinRoom,this,!1),I.registerEventListen(R.e_betRoom,this.playerBetRoom,this,!1),I.registerEventListen(R.e_diconnectSocketIO,this.diconnectSocketIO,this,!1)},a.start=function(){this.mainSpriAtlas=w.findNode("betNode/betLeft",this.node).getComponent(c).spriteAtlas,this.btnNodeBreathe(),this.addApeNode(),this.changeMode({modeStr:w.gameMode,isNotSend:!0})},a.btnNodeBreathe=function(){var e=w.findNode("betNode",this.node);m(e).repeatForever(m().to(1,{scale:h(1.1,1.1,1)},{easing:"smooth"}).to(1,{scale:h(.9,.9,1)},{easing:"smooth"})).start()},a.initSelfHead=function(){var e,o=this,t=w.joinMonkeyRoomBackData,n=t.roomUsers,i=t.players,a=w.findNode("buttomLayout",this.node),s=h();i.forEach((function(t){t.userId!=w.selfInfoData.userId&&(e=w.findNode("roomNodes/room"+t.pour+"/playerArea",o.node),k.getRandomPosInNode(e,s),k.convertPositionToTargetNodeSpace(e.getParent(),a,s,s),o.joinRoom(a,s,{isSelf:!1,userId:t.userId,avatar:t.avatar,isLeaveYieldLayout:!0,betIndex:t.pour}),w.allBetPlayerMap.set(t.userId,t.pour));var n=w.findNode("roomNodes/room"+t.pour+"/currencyNode/moneyLab",o.node).getComponent(u);n.string=((parseFloat(n.string)?parseFloat(n.string):0)+t.amount).toString()})),n.forEach((function(e){var t=e.userId;if(e.userId!=w.selfInfoData.userId&&(w.allPlayerOnlineMap.set(t,!0),!w.allBetPlayerMap.has(t))){var n=h();k.getRandomPosInNode(a,n),k.convertPositionToTargetNodeSpace(a.getParent(),a,n,n),o.joinRoom(a,n,{isSelf:!1,userId:t,avatar:e.avatar,isLeaveYieldLayout:!1,betIndex:-1})}}));var r=w.curChooseRoomIndex;if(r>=1){e=w.findNode("roomNodes/room"+r+"/playerArea",this.node),k.getRandomPosInNode(e,s),k.convertPositionToTargetNodeSpace(e.getParent(),a,s,s),this.joinRoom(a,s,{isSelf:!0,userId:w.selfInfoData.userId,avatar:w.selfInfoData.avatar,isLeaveYieldLayout:!0,betIndex:r}),w.findNode("roomNodes/room"+r+"/lightSp",this.node).active=!0;var d=w.findNode("roomNodes/room"+r+"/currencyNode/moneyLab",this.node).getComponent(u);d.string=((parseFloat(d.string)?parseFloat(d.string):0)+w.myTotalBet).toString(),I.dispatch(y.e_selfbetChange,w.myTotalBet)}else k.getRandomPosInNode(a,s),k.convertPositionToTargetNodeSpace(a.getParent(),a,s,s),this.joinRoom(a,s,{isSelf:!0,userId:w.selfInfoData.userId,avatar:w.selfInfoData.avatar,isLeaveYieldLayout:!1,betIndex:-1})},a.joinRoom=function(e,o,t){if(!w.yetCreatePlayerNode.has(t.userId)){w.yetCreatePlayerNode.set(t.userId,!0);var n=this.instanceHead();n.parent=e,n.position=o,n.getComponent(P).setData(t)}},a.instanceHead=function(){return p(this.headeNodesPrefab)},a.addApeNode=function(){M.createUI("apeNode",this.node,(function(e,o){o.setSiblingIndex(99)}))},a.onBtnClick=function(e,o){if(w.log("点击界面上的按钮",o),w.gameState==S.e_countDown60Ing){var t=w.curChooseRoomIndex;switch(o){case"record":B.instance.showDialog("recordNode",w.gameRootUiInstance.popUiNode,"Record");break;case"bet":if(this.checkPlaerCurrencyCountIsEnough())if(t<0)w.showToast("Please Choose A Room");else{var n=parseFloat(w.findNode("betNode/betLeft/chooseCountLab",this.node).getComponent(u).string);_.emitBet(n,t);var i={betNum:n,clickIndex:t};this.betClickRecordList.push(i),this.barMoneyChange(t,n),w.updateCurrency(w.gameMode,w.gameModeToCurrencymap[w.gameMode]-n),this.resetMyCurrency()}else w.showToast("Money Not Enough",2e3);break;case"choose":var a=w.findNode("selectBox",this.node);a&&a.active?B.instance.hideDialog("selectBox"):B.instance.showDialog("selectBox",this.node,"SelectBox");break;case"recharge":break;case"chooseMode":if(w.myTotalBet>0||this.betClickRecordList.length>0)return void w.showToast("You've bet a Room");B.instance.showDialog("chooseMode",w.gameRootUiInstance.popUiNode,"ChooseMode");break;case"micBtn":this.micIsOpen=!this.micIsOpen,w.enableMic(this.micIsOpen),w.findNode("micNode/micOpen",this.node).getComponent(c).spriteFrame=this.micIsOpen?this.mainSpriAtlas.spriteFrames.micOpen:this.mainSpriAtlas.spriteFrames.micClose;break;case"voiceBtn":this.voiceIsOpen=!this.voiceIsOpen,w.enableVoice(this.voiceIsOpen),w.findNode("voiceNode/voiceOpen",this.node).getComponent(c).spriteFrame=this.voiceIsOpen?this.mainSpriAtlas.spriteFrames.voiceOpen:this.mainSpriAtlas.spriteFrames.voiceClose;break;case"bgmBtn":this.bgmIsOpen=!this.bgmIsOpen,this.bgmIsOpen?(w.starBGM(),w.findNode("bgmNode/bgmOpen",this.node).getComponent(c).spriteFrame=this.mainSpriAtlas.spriteFrames.bgmOpen):(w.stopBGM(),w.findNode("bgmNode/bgmOpen",this.node).getComponent(c).spriteFrame=this.mainSpriAtlas.spriteFrames.bgmClose);break;case"helpBtn":B.instance.showDialog("helpNode",w.gameRootUiInstance.popUiNode,"Help");break;default:w.error("点击错误")}}},a.betSuccessBack=function(e){if(200==e.code){var o=this.betClickRecordList.shift();w.myTotalBet+=o.betNum,I.dispatch(y.e_selfbetChange,w.myTotalBet)}else{w.showToast("Bet Fail",1e3);var t=this.betClickRecordList.shift();this.barMoneyChange(t.clickIndex,-t.betNum),w.updateCurrency(w.gameMode,w.gameModeToCurrencymap[w.gameMode]+t.betNum),this.resetMyCurrency()}},a.onClickRoom=function(e,o){if(w.log("点击一个Room",o),w.gameState==S.e_countDown60Ing){var t=parseFloat(o);if(t!=w.curChooseRoomIndex){if(w.curChooseRoomIndex>=1){if(w.myTotalBet>0)return void w.showToast("A Room has been selected");if(this.betClickRecordList.length>0)return void w.showToast("A Room has been selected")}w.findNode("roomNodes/room"+t+"/lightSp",this.node).active=!0,-1!=w.curChooseRoomIndex&&(w.findNode("roomNodes/room"+w.curChooseRoomIndex+"/lightSp",this.node).active=!1),w.curChooseRoomIndex=t,I.dispatch(y.e_clickRoom,t)}}},a.joinGameModeSuccess=function(){var e=this,o=w.curCountTime,t=w.findNode("mainUITimeDownBg/timeNode",this.node),n=w.findNode("timeLab",t),i=w.findNode("mainUITimeDownBg/countDownTipLab",this.node);o<=0?(w.gameState=S.e_redFarmeRun,t.active=!1,i.active=!0):(n.getComponent(u).string=w.curCountTime.toString(),i.active=!1,t.active=!0,w.gameState=S.e_countDown60Ing,this.main60timer||(this.main60timer=new b(1e3)),this.main60timer.startTimer((function(){if(w.curCountTime-=1,w.curCountTime<0)return w.gameState=S.e_redFarmeRun,e.redFrameRun(),t.active=!1,i.active=!0,void e.main60timer.stopTimer();n.getComponent(u).string=w.curCountTime.toString()})))},a.barMoneyChange=function(e,o){var t=w.findNode("roomNodes/room"+e+"/currencyNode",this.node),n=w.findNode("roomNodes/room"+e+"/currencyNode/moneyLab",this.node).getComponent(u);l.instance.ActionManager.getActionByTag(L[e],t)?n.string=((parseFloat(n.string)?parseFloat(n.string):0)+o).toString():m(t).tag(L[e]).to(.2,{scale:h(1.3,1.3,1)},{easing:"cubicIn"}).call((function(){n.string=((parseFloat(n.string)?parseFloat(n.string):0)+o).toString()})).to(.1,{scale:h(1,1,1)},{easing:"cubicOut"}).start()},a.redFrameRun=function(){var e=this;B.instance.hideDialog("recordNode"),B.instance.hideDialog("helpNode"),B.instance.hideDialog("selectBox"),B.instance.hideDialog("chooseMode"),this.killedRoomIndex=-1;var o=3;this.scheduleOnce((function(){e.stopRedFrameRun()}),1.5);var t=h();this.redFrameTimer=new b(100),this.redFrameTimer.startTimer((function(){var n=e.getRedFrameNode(),i=w.findNode("roomNodes/room"+o,e.node);if(t=i.getPosition(),k.convertPositionToTargetNodeSpace(i.parent,w.findNode("redFrameRunNodes",e.node),t,t),n.setPosition(t),e.killedRoomIndex==o){e.redNodeCache.push(n),e.redFrameTimer.stopTimer();var a=w.findNode("redFrameRunNodes/riskSp",e.node);a.setPosition(t),a.active=!0,a.getComponent(g).play(),a.getComponent(g).once(g.EventType.FINISHED,(function(){a.active=!1,n.active=!1,w.gameState=S.e_apeRunIng,I.dispatch(y.e_apeBegin,e.killedRoomIndex)}))}else m(n.getComponent(f)).to(.3,{opacity:0}).call((function(){n.active=!1,n.getComponent(f).opacity=255,e.redNodeCache.push(n)})).start();(o+=1)>14&&(o=1)}))},a.getRedFrameNode=function(){var e=this.redNodeCache.shift();return e||(e=p(w.findNode("redFrameRunNodes/redFrameTemNode",this.node)),w.findNode("redFrameRunNodes",this.node).addChild(e)),e.active=!0,e},a.stopRedFrameRun=function(){this.limitedStopCount+=1,2==this.limitedStopCount&&(this.limitedStopCount=0,this.killedRoomIndex=w.curRoundKilledRoom)},a.stopAllTimer=function(){this.redFrameTimer&&(this.redFrameTimer.stopTimer(),w.findNode("redFrameRunNodes",this.node).children.forEach((function(e){e.active=!1}))),this.main60timer&&this.main60timer.stopTimer()},a.changeMode=function(e){this.stopAllTimer();var o=e.modeStr;w.gameState=S.e_changeModeIng,w.gameMode=o;var t=w.findNode("chooseModeBtn",this.node),n=w.findNode("adornSp",t).getComponent(c).spriteAtlas.spriteFrames,i=w.findNode("roomNodes/room1/currencyNode/currencyIcon",this.node).getComponent(c).spriteAtlas.spriteFrames;w.findNode("adornSp",t).getComponent(c).spriteFrame=n[o+"B"],w.findNode("btnLab",t).getComponent(u).string=this.chooseBtnLabList[o],w.findNode("btnLab",t).getComponent(u).fontSize=o==T.gem?30:35,w.findNode("topLeftCoinSp/topLeftCoinNode/currencyIcon",this.node).getComponent(c).spriteFrame=i[o+"Icon"],w.findNode("betNode/betLeft/currencyIcon",this.node).getComponent(c).spriteFrame=i[o+"Icon"];for(var a=1;a<=14;a++)w.findNode("roomNodes/room"+a+"/currencyNode/currencyIcon",this.node).getComponent(c).spriteFrame=i[o+"Icon"];w.curChooseIndex=1,w.findNode("betNode/betLeft/chooseCountLab",this.node).getComponent(u).string=F[o][0],e.isNotSend||(w.allPlayerOnlineMap.clear(),I.dispatch(y.e_showResult,!0),_.emitGetBalance(),_.joinMonkeyRoom(o),this.resetMyCurrency())},a.changeRate=function(e){w.findNode("betNode/betLeft/chooseCountLab",this.node).getComponent(u).string=F[w.gameMode][e-1]},a.roomReset=function(e){w.curChooseRoomIndex>=1&&(w.findNode("roomNodes/room"+w.curChooseRoomIndex+"/lightSp",this.node).active=!1);for(var o=1;o<=14;o++)w.findNode("roomNodes/room"+o+"/currencyNode/moneyLab",this.node).getComponent(u).string="0";w.curChooseRoomIndex=-1},a.gameEnd=function(){w.myTotalBet=0,this.stopAllTimer(),I.dispatch(y.e_showResult,!0)},a.checkPlaerCurrencyCountIsEnough=function(e){var o=w.findNode("topLeftCoinSp/topLeftCoinNode/currencyLab",this.node).getComponent(u);return e?parseFloat(o.string)>=e:parseFloat(o.string)>=parseFloat(w.findNode("betNode/betLeft/chooseCountLab",this.node).getComponent(u).string)},a.resetMyCurrency=function(){var e=this;w.findNode("topLeftCoinSp/topLeftCoinNode/currencyLab",this.node).getComponent(u).string=w.gameModeToCurrencymap[w.gameMode].toString(),this.scheduleOnce((function(){w.findNode("topLeftCoinSp/topLeftCoinNode",e.node).getComponent(N).updateLayout();var o=w.findNode("topLeftCoinSp/topLeftCoinNode",e.node).getComponent(C).width;o<=120?o=120:o+=10,w.findNode("topLeftCoinSp",e.node).getComponent(C).width=o}))},a.playerJoinRoom=function(e){var o=h(),t=w.findNode("buttomLayout",this.node);k.getRandomPosInNode(t,o),k.convertPositionToTargetNodeSpace(t.getParent(),t,o,o),this.joinRoom(t,o,{isSelf:!1,userId:e.id,avatar:e.avatar,isLeaveYieldLayout:!1,betIndex:-1})},a.playerBetRoom=function(e){this.barMoneyChange(e.pour,e.amount)},a.diconnectSocketIO=function(){this.stopAllTimer()},a.gameStateChange=function(e){var o=w.findNode("mainUITimeDownBg/countDownTipLab",this.node),t=w.findNode("mainUITimeDownBg/timeNode",this.node);switch(e){case S.e_unkown:case S.e_connectIng:case S.e_connectFail:case S.e_connectSucceed:case S.e_changeModeIng:case S.e_gameWaiting:o.active=!0,o.getComponent(u).string=this.connectIngStr,t.active=!1;break;case S.e_redFarmeRun:case S.e_apeRunIng:case S.e_showResultIng:o.active=!0,o.getComponent(u).string=this.apeHitStr,t.active=!1}},o}(v)).prototype,"headeNodesPrefab",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=o(A.prototype,"buttomLayoutNode",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=A))||E));a._RF.pop()}}}));

System.register("chunks:///_virtual/NewComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,e,o,r;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,r=t.Component}],execute:function(){var c;e._RF.push({},"fc692PtH8NO8rWPZLSJI/BJ","NewComponent",void 0);var u=o.ccclass;o.property,t("NewComponent",u("NewComponent")(c=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var o=e.prototype;return o.start=function(){},o.update=function(t){},e}(r))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/playerHead.ts",["./rollupPluginModLoBabelHelpers.js","cc","./constant.ts","./EventManager.ts","./resourceUtil.ts","./util.ts","./gameLogic.ts"],(function(e){"use strict";var t,i,s,o,a,n,r,c,l,d,h,u,v,m,p,f,g,I,L,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,s=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,n=e._decorator,r=e.Sprite,c=e.Node,l=e.Tween,d=e.v3,h=e.tween,u=e.Vec3,v=e.Label,m=e.Component},function(e){p=e.E_gameEvent,f=e.E_protoGameEvent},function(e){g=e.default},function(e){I=e.default},function(e){L=e.Util},function(e){y=e.default}],execute:function(){var b,N,S,P,R,k,E;a._RF.push({},"2f8d80AgClFALviixZm3tJA","playerHead",void 0);var T=n.ccclass,_=n.property;e("PlayerHead",(b=T("PlayerHead"),N=_({type:r,tooltip:"玩家头像"}),S=_({type:c,tooltip:"麦克风图标"}),b((k=t((R=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return t=e.call.apply(e,[this].concat(a))||this,s(t,"headIconSp",k,o(t)),s(t,"micNode",E,o(t)),t.isSelf=!1,t.clickRoomIndex=-1,t.isLeaveYieldLayout=!1,t.isKill=!1,t.speed=170,t.data=void 0,t.vector=null,t.vectorNum=0,t.timeId=-1,t}i(t,e);var a=t.prototype;return a.setData=function(e){this.data=e,this.isSelf=e.isSelf,this.isLeaveYieldLayout=e.isLeaveYieldLayout,this.clickRoomIndex=e.betIndex,L.setPlayerHeadImg(e.avatar,this.headIconSp,45,45),this.isSelf?(g.registerEventListen(p.e_clickRoom,this.receiveClickRoomEvent,this,!1),g.registerEventListen(p.e_selfbetChange,this.selfbetChange,this,!1)):(g.registerEventListen(f.e_leaveRoom,this.leaveRoom,this,!1),g.registerEventListen(f.e_betRoom,this.betRoom,this,!1)),this.registerEventListen()},a.registerEventListen=function(){g.registerEventListen(p.e_apeAttackOver,this.apeAttackOver,this,!1),g.registerEventListen(p.e_showResult,this.backYield,this,!1),g.registerEventListen(f.e_speakUser,this.speakUser,this,!1),g.registerEventListen(f.e_stopSpeakUser,this.stopSpeakUser,this,!1)},a.receiveClickRoomEvent=function(e){this.isLeaveYieldLayout=!0,this.clickRoomIndex=e,l.stopAllByTarget(this.node);var t=this.node.getPosition(),i=d(),s=y.findNode("roomNodes/room"+e+"/playerArea",y.mainUiInstance.node);L.getRandomPosInNode(s,i),L.convertPositionToTargetNodeSpace(s.getParent(),this.node.parent,i,i);var o=h(this.node);o.to(u.distance(t,i)/this.speed,{position:i}),o.start()},a.leaveRoom=function(e){e&&e!=this.data.userId||(y.allBetPlayerMap.delete(this.data.userId),y.yetCreatePlayerNode.delete(this.data.userId),g.removeTargetAllEventListen(this),this.node.removeFromParent(),this.node.destroy())},a.apeAttackOver=function(){this.clickRoomIndex==y.lastRoundResult.loseNum&&(this.isKill=!0,this.node.setScale(0,0,0))},a.backYield=function(e){if(void 0===e&&(e=!1),this.isSelf||y.allPlayerOnlineMap.has(this.data.userId)){if(this.isLeaveYieldLayout){if(this.vector&&(this.vector.active=!1,this.vectorNum=0),e&&(l.stopAllByTarget(this.node),this.isKill=!0),this.isKill){this.node.setScale(1,1,1);var t=y.mainUiInstance.buttomLayoutNode,i=d();L.getRandomPosInNode(t,i),L.convertPositionToTargetNodeSpace(t.getParent(),t,i,i),this.node.setPosition(i)}else{var s=y.mainUiInstance.buttomLayoutNode,o=this.node.getPosition(),a=d();L.getRandomPosInNode(s,a),L.convertPositionToTargetNodeSpace(s.getParent(),s,a,a);var n=h(this.node);n.to(u.distance(o,a)/(3*this.speed),{position:a}),n.start()}y.allBetPlayerMap.delete(this.data.userId),this.clickRoomIndex=-1,this.isLeaveYieldLayout=!1,this.isKill=!1}}else this.leaveRoom(this.data.userId)},a.betRoom=function(e){e.userId==this.data.userId&&-1==this.clickRoomIndex&&(y.allBetPlayerMap.set(e.userId,e.pour),this.clickRoomIndex=e.pour,this.receiveClickRoomEvent(e.pour))},a.selfbetChange=function(e){var t=this,i=this.clickRoomIndex;if(this.vector||0==this.vectorNum)if(this.vectorNum=e,this.vector){var s=this.vector;s.active=!0,y.findNode("betLab",this.vector).getComponent(v).string=e.toString(),i>=4&&i<=8?(s.setPosition(-40,-10),s.setScale(-1,1),y.findNode("betLab",s).setScale(-1,1)):(s.setScale(1,1),s.setPosition(40,-10),y.findNode("betLab",s).setScale(1,1))}else I.createUI("vector",this.node,(function(e,s){t.vector=s,y.findNode("betLab",s).getComponent(v).string=t.vectorNum.toString(),i>=4&&i<=8?(s.setPosition(-40,-10),s.setScale(-1,1),y.findNode("betLab",s).setScale(-1,1)):(s.setScale(1,1),s.setPosition(40,-10),y.findNode("betLab",s).setScale(1,1))}));else this.vectorNum=e},a.speakUser=function(e){var t=this;e==this.data.userId&&(this.micNode.active=!0,-1!=this.timeId?(clearTimeout(this.timeId),this.timeId=setTimeout((function(){t.micNode.active=!1}),1e3)):this.timeId=setTimeout((function(){t.micNode.active=!1}),1e3))},a.stopSpeakUser=function(e){e==this.data.userId&&(this.micNode.active=!1,-1!=this.timeId&&(clearTimeout(this.timeId),this.timeId=-1))},t}(m)).prototype,"headIconSp",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(R.prototype,"micNode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=R))||P));a._RF.pop()}}}));

System.register("chunks:///_virtual/popUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./constant.ts","./uiManager.ts","./gameLogic.ts"],(function(e){"use strict";var t,o,n,i,s,r,a,d,c,l,u,p,f,g,N;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){s=e.cclegacy,r=e._decorator,a=e.Label,d=e.Animation,c=e.Sprite,l=e.AudioSource,u=e.Component},function(e){p=e.default},function(e){f=e.E_gameEvent},function(e){g=e.UiManager},function(e){N=e.default}],execute:function(){var m,h,v,y,R;s._RF.push({},"c7c024X3ttGg6yv5PjrUYTM","popUI",void 0);var L=r.ccclass,I=r.property;e("PopUI",(m=L("PopUI"),h=I(a),m((R=t((y=function(e){function t(){for(var t,o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];return t=e.call.apply(e,[this].concat(s))||this,n(t,"killRoomDesc",R,i(t)),t.notJoinStr={gold:"لم يتم أنفاق أي عملات ذهبية هذه المرة\n ولا تستطيع تحصل علي العملات الذهبية   ",gem:"لم يتم ٫انفاق أي جوهرات هذه\n المرة ولا تستطيع تحصل علي الجوهرة",flower:"  لم يتم أنفاق أي زهور هذه المرة\n ولا تستطيع تحصل علي الزهور "},t.winLoseStr={win:"نجح في الهروب من القرود  ",lose:"فشل في الهروب من القرود  "},t}o(t,e);var s=t.prototype;return s.show=function(e){var t=this;if(1==e){var o=N.findNode("apeAppearSp",this.node);o.active=!0;var n=o.getComponent(d);n.play(),n.once(d.EventType.FINISHED,(function(){t.onCloseLayout()}))}else if(2==e){if(p.dispatch(f.e_showResult),N.findNode("resultNode",this.node).active=!0,this.killRoomDesc.string="[ "+N.lastRoundResult.loseNum+" ]  القرود يقتل الجميع في ",N.lastRoundResult.isJoin){var i=N.findNode("resultNode/winLoseLab",this.node);if(i.setPosition(112,N.lastRoundResult.isWin?0:-25),i.getComponent(a).string=N.lastRoundResult.isWin?this.winLoseStr.win:this.winLoseStr.lose,i.active=!0,N.lastRoundResult.isWin){var s=N.findNode("resultNode/putIntoNode",this.node),r=N.findNode("resultNode/getNode",this.node);s.active=!0,r.active=!0;var l=N.findNode("currencyIcon",s).getComponent(c).spriteAtlas;N.findNode("currencyIcon",s).getComponent(c).spriteFrame=l.spriteFrames[N.gameMode+"Icon"],N.findNode("currencyIcon",r).getComponent(c).spriteFrame=l.spriteFrames[N.gameMode+"Icon"],N.findNode("moneyLab",s).getComponent(a).string=N.myTotalBet.toString(),N.findNode("moneyLab",r).getComponent(a).string=N.lastRoundResult.reward.toString()}}else{var u=N.findNode("resultNode/notJoinLab",this.node);u.active=!0,u.getComponent(a).string=this.notJoinStr[N.gameMode]}this.scheduleOnce((function(){t.onCloseLayout()}),3)}},s.onCloseLayout=function(){N.gameRootUiInstance.popUiNode.getComponent(l).stop(),g.instance.hideDialog("popUI")},s.onDisable=function(){N.findNode("apeAppearSp",this.node).active=!1,N.findNode("resultNode",this.node).active=!1,N.findNode("resultNode/winLoseLab",this.node).active=!1,N.findNode("resultNode/putIntoNode",this.node).active=!1,N.findNode("resultNode/getNode",this.node).active=!1,N.findNode("resultNode/notJoinLab",this.node).active=!1},t}(u)).prototype,"killRoomDesc",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=y))||v));s._RF.pop()}}}));

System.register("chunks:///_virtual/record.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./constant.ts","./socketIO.ts","./uiManager.ts","./util.ts","./gameLogic.ts"],(function(e){"use strict";var t,o,r,n,i,s,a,d,c,l,p,u,f,m,g,N,h,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){i=e.cclegacy,s=e._decorator,a=e.Prefab,d=e.Label,c=e.Sprite,l=e.Color,p=e.instantiate,u=e.Component},function(e){f=e.default},function(e){m=e.E_protoGameEvent},function(e){g=e.default},function(e){N=e.UiManager},function(e){h=e.Util},function(e){b=e.default}],execute:function(){var v,y,L,C,S;i._RF.push({},"b1109APknBOmpWQGsYvkKSl","record",void 0);var I=s.ccclass,A=s.property;e("Record",(v=I("Record"),y=A({type:a,tooltip:"记录item的预制"}),v((S=t((C=function(e){function t(){for(var t,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i))||this,r(t,"recordItemPrefab",S,n(t)),t.resultLabArr=["تجنب الفشل","تجنب النجاح"],t.resultColorArr=["#EA3337","#E4B48A"],t.magazine="الجولة",t.historyList=null,t}o(t,e);var i=t.prototype;return i.onLoad=function(){h.fitScreen(b.findNode("adaptiveNode",this.node)),f.registerEventListen(m.e_betHistory,this.updateHistory,this,!1)},i.onEnable=function(){g.emitHistory(),this.updateHistory(this.historyList)},i.updateHistory=function(e){if(e){this.historyList=e;for(var t=b.findNode("adaptiveNode/record100",this.node),o=1;o<=14;o++){b.findNode("lab"+o,t).getComponent(d).string=e.lastList[o]?e.lastList[o]:"0"}for(var r=b.findNode("adaptiveNode/record10",this.node),n=b.findNode("recordNode1/sp1",r).getComponent(c).spriteAtlas.spriteFrames,i=null,s=0;s<10;s++){i=e.lastTenList[s];var a=b.findNode("recordNode"+(s+1),r);if(i){if(i.loseNum<10)b.findNode("sp1",a).getComponent(c).spriteFrame=n.recordNum_0,b.findNode("sp2",a).getComponent(c).spriteFrame=n["recordNum_"+i.loseNum];else{var l=i.loseNum.toString();b.findNode("sp1",a).getComponent(c).spriteFrame=n["recordNum_"+l[0]],b.findNode("sp2",a).getComponent(c).spriteFrame=n["recordNum_"+ +l[1]]}a.active=!0,b.findNode("periodsLab",a).getComponent(d).string=i.issues.toString()+" "+this.magazine}else a.active=!1}var p=b.findNode("adaptiveNode/myJoinHistoryNode",this.node);b.findNode("getNode/moneyLab",p).getComponent(d).string=e.rewardSum.toString(),b.findNode("betNode/moneyLab",p).getComponent(d).string=e.betSum.toString();var u=b.findNode("getNode/currencyIcon",p).getComponent(c).spriteAtlas.spriteFrames;if(b.findNode("getNode/currencyIcon",p).getComponent(c).spriteFrame=u[b.gameMode+"Icon"],b.findNode("betNode/currencyIcon",p).getComponent(c).spriteFrame=u[b.gameMode+"Icon"],0==e.list.length)b.findNode("adaptiveNode/noRecordLab",this.node).active=!0;else{b.findNode("adaptiveNode/noRecordLab",this.node).active=!1;for(var f=b.findNode("adaptiveNode/ScrollView/view/content",this.node),m=0;m<20;m++){var g=e.list[m];g&&this.creatorHistoryItem(g,m,f)}}}},i.creatorHistoryItem=function(e,t,o){var r=o.children[t];r||(r=this.instantiatePrefab(o)),b.findNode("timeLab",r).getComponent(d).string=e.date+" "+e.issues+" "+this.magazine;var n=b.findNode("resultLab",r).getComponent(d);e.rewardSum>0?(n.string=this.resultLabArr[1],n.color=new l(this.resultColorArr[1])):(n.string=this.resultLabArr[0],n.color=new l(this.resultColorArr[0])),b.findNode("killerGoLab",r).getComponent(d).string="【 "+e.loseNum+" 】",b.findNode("myChooseRoomLab",r).getComponent(d).string="【 "+e.bet[0]+" 】",b.findNode("winLab",r).getComponent(d).string=e.rewardSum,b.findNode("putIntoLab",r).getComponent(d).string=e.betSum},i.instantiatePrefab=function(e){var t=p(this.recordItemPrefab);return e.addChild(t),t},i.closeSelf=function(){N.instance.hideDialog("recordNode")},t}(u)).prototype,"recordItemPrefab",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=C))||L));i._RF.pop()}}}));

System.register("chunks:///_virtual/resourceUtil.ts",["cc","./gameLogic.ts"],(function(e){"use strict";var o,r,n,t,a,d;return{setters:[function(e){o=e.cclegacy,r=e.resources,n=e.Prefab,t=e.instantiate,a=e.AudioClip},function(e){d=e.default}],execute:function(){o._RF.push({},"36f24CBTFFKfbmQjqnKsFHz","resourceUtil",void 0);e("default",function(){function e(){}return e.loadResourcesBundle=function(e,o,n){var t=r.get(e,o);if(t)return n(null,t);o?r.load(e,o,(function(e,o){if(e)return d.error(e.message||e),void(n&&n(e,o));n&&n(e,o)})):r.load(e,(function(e,o){if(e)return d.error(e.message||e),void(n&&n(e,o));n&&n(e,o)}))},e.createUI=function(e,o,r,a){this.loadResourcesBundle("prefab/"+e,n,(function(e,n){if(e)r&&r(e,null);else{var d=t(n);a&&d.setPosition(a),o.addChild(d),r&&r(null,d)}}))},e.loadMusic=function(e,o){this.loadResourcesBundle(e,a,o)},e.preloadAsset=function(){r.preload("prefab/chooseMode",n),r.preload("prefab/helpNode",n),r.preload("prefab/recordItem",n),r.preload("prefab/recordNode",n),r.preload("prefab/selectBox",n),r.preload("prefab/popUI",n),r.preload("prefab/vector",n),r.preload("sound/click",a),r.preload("sound/show_dialog",a),r.preload("sound/click_sweet",a),r.preload("sound/monkey_fight_cage_down",a),r.preload("sound/monkey_fight_stele_down",a),r.preload("sound/monkey_fight_run",a),r.preload("sound/monkey_fight_attack",a)},e.preloadOneAsset=function(e,o){r.preload(e,o)},e}());o._RF.pop()}}}));

System.register("chunks:///_virtual/selectBox.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./constant.ts","./gameLogic.ts"],(function(e){"use strict";var t,o,n,s,i,r,a,c,p,d,m,l,u;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy,n=e._decorator,s=e.Sprite,i=e.Widget,r=e.Label,a=e.Animation,c=e.AnimationClip,p=e.Component},function(e){d=e.default},function(e){m=e.C_currencyGears,l=e.E_gameEvent},function(e){u=e.default}],execute:function(){var h;o._RF.push({},"30d486GmQtAw63TZ6JbrmE7","selectBox",void 0);var g=n.ccclass;n.property,e("SelectBox",g("SelectBox")(h=function(e){function o(){return e.apply(this,arguments)||this}t(o,e);var n=o.prototype;return n.onLoad=function(){u.findNode("item"+u.curChooseIndex,this.node).getComponent(s).spriteFrame=this.getComponent(s).spriteAtlas.spriteFrames.choosePress,u.findNode("_maskLayout",this.node).getComponent(i).target=u.gameRootUiInstance.uiNode},n.onEnable=function(){for(var e=u.gameMode,t=u.findNode("item1/currencyIcon",this.node).getComponent(s).spriteAtlas.spriteFrames,o=1;o<=3;o++)u.findNode("item"+o+"/currencyIcon",this.node).getComponent(s).spriteFrame=t[e+"Icon"],u.findNode("item"+o+"/moneyLab",this.node).getComponent(r).string=m[e][o-1]},n.onItemClick=function(e,t){var o=parseInt(t);if(u.curChooseIndex!=o){var n=this.getComponent(s).spriteAtlas;e.target.getComponent(s).spriteFrame=n.spriteFrames.choosePress,u.findNode("item"+u.curChooseIndex,this.node).getComponent(s).spriteFrame=null,u.curChooseIndex=o,d.dispatch(l.e_changeChooseIndex,o),this.closePanel()}else this.closePanel()},n.show=function(){this.getComponent(a).getState("selectBox").wrapMode=c.WrapMode.Normal,this.getComponent(a).play("selectBox")},n.closePanel=function(){var e=this,t=this.getComponent(a);t.getState("selectBox").wrapMode=c.WrapMode.Reverse,this.getComponent(a).play("selectBox"),t.once(a.EventType.FINISHED,(function(){e.node.active=!1}))},o}(p))||h);o._RF.pop()}}}));

System.register("chunks:///_virtual/socketIO.ts",["cc","./socket.io.mjs_cjs=&original=.js","./gameLogic.ts","./EventManager.ts","./constant.ts","./util.ts","./socket.io.js"],(function(e){"use strict";var t,o,n,a,c,i,s,r,m,u,l;return{setters:[function(e){t=e.cclegacy},null,function(e){o=e.default},function(e){n=e.default},function(e){a=e.E_gameState,c=e.E_gameEvent,i=e.E_protoGameEvent,s=e.E_gameSocketEvent,r=e.E_gameMode,m=e.E_monkey_roomMsg},function(e){u=e.Util},function(e){l=e.default}],execute:function(){t._RF.push({},"d9baacJSPZDW5MGiJmHHVTM","socketIO",void 0);var g=e("default",function(){function e(){}return e.toConnect=function(){this._beginCostTime=Date.now();var e=o.getPlayerToken(),t=o.getSocketIOUrl();o.gameState=a.e_connectIng;var n=l(t,{withCredentials:!0,extraHeaders:{token:e},transports:["polling","websocket","webtransport"]});this._socketIo=n,this._registerSocketListeningEvent(n),this._registerListeningEvent(n)},e.closeSocket=function(){this._socketIo.close()},e._registerSocketListeningEvent=function(e){var t=this;function s(){o.gameState=a.e_connectFail,n.dispatch(i.e_diconnectSocketIO),o.showToast("CONNECT FAIL,TRY AGAIN",5e3)}n.registerEventListen(c.e_androidRefreshBalance,this.emitGetBalance,this,!1),e.on("connect",(function(){o.log("网络连接成功 消耗时间ms:",Date.now()-t._beginCostTime),o.gameState=a.e_connectSucceed,n.dispatch(i.e_IO_onnectSucceed,!0)})),e.on("disconnect",(function(e){o.error("disconnect:",e),s.call(t)})),e.on("error",(function(e){o.error("error",e),s.call(t)})),e.on("connect_error",(function(e){o.error("connect_error:",e),s.call(t)}))},e.emitGetBalance=function(){var e=Date.now();this._socketIo.emit(s.e_getBalance,{},(function(t){o.log("请求玩家余额花费时间ms:",Date.now()-e,t),200==t.code&&(o.updateCurrency(r.gold,parseFloat(t.gold.toString())),o.updateCurrency(r.flower,parseFloat(t.flower.toString())),o.updateCurrency(r.gem,parseFloat(t.gem.toString())),o.oneRoundTime=t.gameOverTime,n.dispatch(i.e_resetMyCurrency))}))},e.emitBet=function(e,t){this._socketIo.disconnected||this._socketIo.emit(s.e_monkey_bet,{currency:o.gameMode,amount:e,pour:t,gameId:o.curGameId},(function(e){o.log("投注",e),n.dispatch(i.e_betSuccess,e)}))},e.joinMonkeyRoom=function(e){var t=Date.now();o.exitVoiceRoom(),this._socketIo.emit(s.e_monkey_join,{currency:e},(function(e){o.log("加入斗猿场房间:花费时间ms:",Date.now()-t,e),200==e.code?(o.gameState=a.e_gameWaiting,o.joinMonkeyRoomBackData=e,o.curGameId=e.gameId,o.curCountTime=e.countDown,o.selfInfoData.avatar=e.avatar,o.selfInfoData.chatRoomId=e.chatRoomId,o.selfInfoData.userId=e.userId,o.selfInfoData.rtcToken=e.rtcToken,o.inviteRoom(o.selfInfoData.rtcToken,o.selfInfoData.chatRoomId),o.starBGM(!0),e.myRecord.length>0?(o.curChooseRoomIndex=e.myRecord[0].pour,e.myRecord.forEach((function(e,t){o.myTotalBet+=parseFloat(e.amount)}))):o.myTotalBet=0,o.mainUiInstance.initSelfHead(),n.dispatch(i.e_joinGameModeSuccess)):o.showToast("JOIN MonkeyRoom FAIL,TRY AGAIN")}))},e._registerListeningEvent=function(e){var t=this;function c(e){var t=e.msgType;if(t==m.e_monkey_room_join){var a=e.joinUserId;if(a==o.selfInfoData.userId)return;o.allPlayerOnlineMap.set(a,!0),n.dispatch(i.e_joinRoom,{id:a,avatar:e.avatar})}else if(t==m.e_monkey_room_leave){var c=e.leaveUserId;o.allPlayerOnlineMap.delete(c),o.allBetPlayerMap.has(c)||n.dispatch(i.e_leaveRoom,c)}else if(t==m.e_monkey_room_bet_success){var s=e.userId;if(s==o.selfInfoData.userId)return;var r=e.pour,u=e.amount;n.dispatch(i.e_betRoom,{userId:s,pour:r,amount:u})}var l=e.msgStatus;"game_start"==l?(o.curRoundKilledRoom=null,o.curGameId=e.gameId,o.curCountTime=e.countDown,n.dispatch(i.e_joinGameModeSuccess)):"game_settle"==l||"game_over"==l||"game_end"==l&&(n.dispatch(i.e_gameEnd),this.emitGetBalance())}e.on(s.e_NMonkey_gold_msg,(function(e){o.log("金币房间消息"+e.msgStatus,u.getTime(),e),"gold"==o.gameMode&&o.gameState!=a.e_changeModeIng&&c.call(t,e)})),e.on(s.e_NMonkey_gem_msg,(function(e){o.log("钻石房间消息"+e.msgStatus,u.getTime(),e),"gem"==o.gameMode&&o.gameState!=a.e_changeModeIng&&c.call(t,e)})),e.on(s.e_NMonkey_flower_msg,(function(e){o.log("鲜花房间消息"+e.msgStatus,u.getTime(),e),"flower"==o.gameMode&&o.gameState!=a.e_changeModeIng&&c.call(t,e)})),e.on(s.e_NMonkey_settle_msg,(function(e){o.gameState!=a.e_changeModeIng&&o.gameMode==e.currency&&(o.log("结算消息:",e),o.curRoundKilledRoom=e.loseNum,o.lastRoundResult=e,n.dispatch(i.e_receiveResult))}))},e.emitHistory=function(){this._socketIo.disconnected||this._socketIo.emit(s.e_betHistory,{currency:o.gameMode},(function(e){o.log("获取历史记录成功",e),200==e.code&&n.dispatch(i.e_betHistory,e)}))},e}());g._socketIo=void 0,g._beginCostTime=0,t._RF.pop()}}}));

System.register("chunks:///_virtual/TimerModule.ts",["cc"],(function(t){"use strict";var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"1ac13NS9MFNnbZYIpv35Ae0","TimerModule",void 0);t("default",function(){function t(t){this.timer=void 0,this.timeCount=1e3,this.timer=-1,this.timeCount=t}var i=t.prototype;return i.startTimer=function(t){-1!==this.timer&&this.stopTimer(),this.timer=setInterval((function(){t()}),this.timeCount)},i.stopTimer=function(){-1!==this.timer&&(clearInterval(this.timer),this.timer=-1)},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/uiManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./gameLogic.ts","./audioManager.ts","./resourceUtil.ts"],(function(e){"use strict";var t,n,a,i,c;return{setters:[function(e){t=e.createClass},function(e){n=e.cclegacy},function(e){a=e.default},function(e){i=e.AudioManager},function(e){c=e.default}],execute:function(){n._RF.push({},"c739f2ddaJBFpKKVR1zvUK6","uiManager",void 0),e("UiManager",function(){function e(){this.yetCacheDictPanel={},this.dealWithIngDictPanel={}}var n=e.prototype;return n.showDialog=function(e,t,n,o,s){var l=this;if(!this.dealWithIngDictPanel[e]){if(o=o||[],t=t||a.gameRootUiInstance.popUiNode,this.yetCacheDictPanel.hasOwnProperty(e)){var h=this.yetCacheDictPanel[e];i.instance.playOpenPanelEffect("show_dialog",.2),h.active=!0;var r=h.getComponent(n);return r.show&&r.show.apply(r,o),void(s&&s.call(r))}this.dealWithIngDictPanel[e]=!0,c.createUI(e,t,(function(t,a){if(t)l.dealWithIngDictPanel[e]=!1;else{i.instance.playOpenPanelEffect("show_dialog",.2),l.yetCacheDictPanel[e]=a;var c=a.getComponent(n);c.show&&c.show.apply(c,o),s&&s.call(c),l.dealWithIngDictPanel[e]=!1}}))}},n.hideDialog=function(e,t){this.yetCacheDictPanel.hasOwnProperty(e)&&(this.yetCacheDictPanel[e].active=!1,t&&t())},t(e,null,[{key:"instance",get:function(){return this._instance||(this._instance=new e),this._instance}}]),e}())._instance=void 0,n._RF.pop()}}}));

System.register("chunks:///_virtual/util.ts",["cc","./gameLogic.ts"],(function(t){"use strict";var e,n,i,o,r,a,g,h,u;return{setters:[function(t){e=t.cclegacy,n=t.v3,i=t.UITransform,o=t.assetManager,r=t.SpriteFrame,a=t.Texture2D,g=t.Size,h=t.view},function(t){u=t.default}],execute:function(){e._RF.push({},"c7e0d1mXkxFCoFasEMhLq+f","util",void 0);t("Util",function(){function t(){}return t.getRandomNFromM=function(t,e){for(var n=[],i=0,o=0;o<e&&!(o>=t+1);){i=this.getRandomInt(0,t);for(var r=0,a=0;a<o;a++)if(n[a]===i){r=1;break}0===r&&(n[o]=i,o++)}return n},t.getRandomInt=function(t,e){var n=Math.random()*(e-t+1)+t;return Math.floor(n)},t.getRandomFloatInRange=function(t,e){var n=Math.random()*(e-t+1)+t;return n>e?this.getRandomFloatInRange(t,e):n},t.convertPositionToTargetNodeSpace=function(t,e,o,r){var a=o||t.getPosition();return r=r||n(),t.getComponent(i).convertToWorldSpaceAR(a,r),e.getComponent(i).convertToNodeSpaceAR(r,r),r},t.getRandomPosInNode=function(e,o){var r=e.getPosition(),a=e.getComponent(i),g=a.contentSize,h=t.getRandomFloatInRange(r.x-g.width*a.anchorX,r.x+g.width*(1-a.anchorX)),u=t.getRandomFloatInRange(r.y-g.height*a.anchorY,r.y+g.height*(1-a.anchorY));return(o=o||n()).set(h,u),o},t.isPointOnSegment=function(t,e,n){var i=!1,o=0;if(n.y-e.y==0)o=t.y-n.y;else if(n.x-e.x==0)o=t.x-n.x;else{var r=(t.x-e.x)/(n.x-e.x)*(n.y-e.y)+e.y;o=t.y-r}return Math.abs(o)<=1&&(i=!0),i},t.setPlayerHeadImg=function(t,e,n,h){var s=this;t=u.getImgCdn()+t,o.loadRemote(t,(function(t,o){if(t)u.error("加载头像失败",t);else{var f=new r,d=new a;if(d.image=o,f.texture=d,e.isValid){var c=s.getCurWidAHig(n,h,o.width,o.height);e.node.getComponent(i).setContentSize(new g(c.designWidth,c.designHight)),e.spriteFrame=f}}}))},t.getCurWidAHig=function(t,e,n,i){if(n==i)return{designWidth:t,designHight:e};if(i>n){return{designWidth:t,designHight:t*i/n}}return{designWidth:e*n/i,designHight:e}},t.getDay=function(){var t=new Date;return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()},t.formatMoney=function(t){for(var e=["","K","M","G","T","P","E","Z","Y","B","N","D"],n="",i=0;i<e.length;i++){if(!(t>=1e4)){n=Math.floor(t)+e[i];break}t/=1e3}return""===n&&(n=Math.floor(t)+"U"),n},t.formatTimeForSecond=function(t){var e="",n=t%60,i=Math.floor(t/60);i=i<0?0:i;var o=Math.floor(i/60),r=i%60;return o>0&&(e+=o>9?o.toString():"0"+o,e+=":"),e+=r>9?r.toString():"0"+r,e+=":",e+=n>9?n.toString():"0"+n},t.formatTimeForMillisecond=function(t){var e=Math.floor(t/1e3%60),n=Math.floor(t/1e3/60%60),i=Math.floor(t/1e3/60/60);return(e<10?"0"+e:e)+":"+(n<10?"0"+n:n)+":"+(i<10?"0"+i:i)},t.getTime=function(t){void 0===t&&(t=Date.now());var e=new Date(t);return e.getFullYear()+":"+(e.getMonth()+1)+":"+e.getDate()+":"+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()+":"+e.getMilliseconds()},t.fitScreen=function(t){var e=1,n=1,i=h.getVisibleSize(),o=h.getDesignResolutionSize(),r=i.width-o.width,a=i.height-o.height;if(Math.abs(r)<=3&&(Math.abs(a)<=3||i.height>=o.height))e=n=1;else if(a<0||r<0){var g=i.height/o.height,u=i.width/o.width;n=e=Math.min(g,u)}else if(a>0&&r>0){var s=i.height/o.height,f=i.width/o.width;n=e=Math.min(s,f)}return t.setScale(e,n),{fitX:e,fitY:n}},t}());e._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});